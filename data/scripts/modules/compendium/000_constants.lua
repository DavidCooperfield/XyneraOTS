-- compendium tabs
-- Note: items tab is handled by inspection module and eventCallback lib
-- COMPENDIUM_REQUEST_ITEMDATA = 0xCD
-- COMPENDIUM_RESPONSE_ITEMDATA = 0x76

COMPENDIUM_REQUEST_CHARMS = 0xE1
COMPENDIUM_RESPONSE_CHARMS = 0xD8

COMPENDIUM_REQUEST_BESTIARY = 0xE1
COMPENDIUM_RESPONSE_BESTIARY = 0xD5

COMPENDIUM_REQUEST_BESTIARY_SPECIES = 0xE2
COMPENDIUM_RESPONSE_BESTIARY_SPECIES = 0xD6

COMPENDIUM_REQUEST_BESTIARY_RACE = 0xE3
COMPENDIUM_RESPONSE_BESTIARY_RACE = 0xD7

COMPENDIUM_REQUEST_PLAYERDATA = 0xE5
COMPENDIUM_RESPONSE_PLAYERDATA = 0xDA

--[[

COMPENDIUM_REQUEST_MAP = 0xDB
COMPENDIUM_REQUEST_HOUSES = 0xAD
COMPENDIUM_REQUEST_FRIEND = 0x81

]]

-- 0xCE - inspect creature
-- 0xED?

INSPECTION_ITEM_NORMAL = 0
INSPECTION_ITEM_NPCTRADE = 1
INSPECTION_ITEM_PLAYERTRADE = 2
INSPECTION_ITEM_COMPENDIUM = 3

-- player info tabs
COMPENDIUM_PLAYER_BASEINFORMATION = 0
COMPENDIUM_PLAYER_GENERAL = 1
COMPENDIUM_PLAYER_COMBAT = 2
COMPENDIUM_PLAYER_DEATHS = 3
COMPENDIUM_PLAYER_PVPKILLS = 4
COMPENDIUM_PLAYER_ACHIEVEMENTS = 5
COMPENDIUM_PLAYER_INVENTORY = 6
COMPENDIUM_PLAYER_COSMETICS = 7
COMPENDIUM_PLAYER_STORE = 8
COMPENDIUM_PLAYER_INSPECTION = 9
COMPENDIUM_PLAYER_BADGES = 10
COMPENDIUM_PLAYER_TITLES = 11

-- kill types
COMPENDIUM_KILLTYPE_JUSTIFIED = 0
COMPENDIUM_KILLTYPE_UNJUSTIFIED = 1
COMPENDIUM_KILLTYPE_GUILDWAR = 2
COMPENDIUM_KILLTYPE_ASSISTED = 3
COMPENDIUM_KILLTYPE_ARENA = 4

-- compendium response types
COMPENDIUM_RESPONSETYPE_OK = 0
COMPENDIUM_RESPONSETYPE_NODATA = 1
COMPENDIUM_RESPONSETYPE_ACCESSDENIED = 2
COMPENDIUM_RESPONSETYPE_INSPECTIONDENIED = 3

-- compendium skill ids
COMPENDIUM_SKILL_MAGIC = 1
COMPENDIUM_SKILL_FIST = 11
COMPENDIUM_SKILL_CLUB = 9
COMPENDIUM_SKILL_SWORD = 8
COMPENDIUM_SKILL_AXE = 10
COMPENDIUM_SKILL_DISTANCE = 7
COMPENDIUM_SKILL_SHIELDING = 6
COMPENDIUM_SKILL_FISHING = 13

compendiumSkillMap = {
	[SKILL_FIST] = COMPENDIUM_SKILL_FIST,
	[SKILL_CLUB] = COMPENDIUM_SKILL_CLUB,
	[SKILL_SWORD] = COMPENDIUM_SKILL_SWORD,
	[SKILL_AXE] = COMPENDIUM_SKILL_AXE,
	[SKILL_DISTANCE] = COMPENDIUM_SKILL_DISTANCE,
	[SKILL_SHIELD] = COMPENDIUM_SKILL_SHIELDING,
	[SKILL_FISHING] = COMPENDIUM_SKILL_FISHING
}

-- client combat types
CLIENT_COMBAT_PHYSICAL = 0
CLIENT_COMBAT_FIRE = 1
CLIENT_COMBAT_EARTH = 2
CLIENT_COMBAT_ENERGY = 3
CLIENT_COMBAT_ICE = 4
CLIENT_COMBAT_HOLY = 5
CLIENT_COMBAT_DEATH = 6
CLIENT_COMBAT_HEALING = 7
CLIENT_COMBAT_DROWN = 8
CLIENT_COMBAT_LIFEDRAIN = 9
CLIENT_COMBAT_MANADRAIN = 10

CLIENT_COMBAT_FIRST = CLIENT_COMBAT_PHYSICAL
CLIENT_COMBAT_LAST = CLIENT_COMBAT_MANADRAIN

do
	local clientCombatMap = {
		[CLIENT_COMBAT_PHYSICAL] = COMBAT_PHYSICALDAMAGE,
		[CLIENT_COMBAT_FIRE] = COMBAT_FIREDAMAGE,
		[CLIENT_COMBAT_EARTH] = COMBAT_EARTHDAMAGE,
		[CLIENT_COMBAT_ENERGY] = COMBAT_ENERGYDAMAGE,
		[CLIENT_COMBAT_ICE] = COMBAT_ICEDAMAGE,
		[CLIENT_COMBAT_HOLY] = COMBAT_HOLYDAMAGE,
		[CLIENT_COMBAT_DEATH] = COMBAT_DEATHDAMAGE,
		[CLIENT_COMBAT_HEALING] = COMBAT_HEALING,
		[CLIENT_COMBAT_DROWN] = COMBAT_DROWNDAMAGE,
		[CLIENT_COMBAT_LIFEDRAIN] = COMBAT_LIFEDRAIN,
		[CLIENT_COMBAT_MANADRAIN] = COMBAT_MANADRAIN
	}
	function getClientCombatId(combatType)
		return clientCombatMap[combatType]
	end
end

OUTFIT_TYPE_NORMAL = 0
OUTFIT_TYPE_QUEST = 1
OUTFIT_TYPE_STORE = 2

-- images are hardcoded in the client
BESTIARY_TYPE_AMPHIBIC = 1
BESTIARY_TYPE_AQUATIC = 2
BESTIARY_TYPE_BIRD = 3
BESTIARY_TYPE_CONSTRUCT = 4
BESTIARY_TYPE_DEMON = 5
BESTIARY_TYPE_DRAGON = 6
BESTIARY_TYPE_ELEMENTAL = 7
BESTIARY_TYPE_EXTRA_DIMENSIONAL = 8
BESTIARY_TYPE_FEY = 9
BESTIARY_TYPE_GIANT = 10
BESTIARY_TYPE_HUMAN = 11
BESTIARY_TYPE_HUMANOID = 12
BESTIARY_TYPE_LYCANTHROPE = 13
BESTIARY_TYPE_MAGICAL = 14
BESTIARY_TYPE_MAMMAL = 15
BESTIARY_TYPE_PLANT = 16
BESTIARY_TYPE_REPTILE = 17
BESTIARY_TYPE_SLIME = 18
BESTIARY_TYPE_UNDEAD = 19
BESTIARY_TYPE_VERMIN = 20

BESTIARY_TYPE_FIRST = BESTIARY_TYPE_AMPHIBIC
BESTIARY_TYPE_LAST = BESTIARY_TYPE_VERMIN

BestiaryNameByType = {
	[BESTIARY_TYPE_AMPHIBIC] = "Amphibic",
	[BESTIARY_TYPE_AQUATIC] = "Aquatic",
	[BESTIARY_TYPE_BIRD] = "Bird",
	[BESTIARY_TYPE_CONSTRUCT] = "Construct",
	[BESTIARY_TYPE_DEMON] = "Demon",
	[BESTIARY_TYPE_DRAGON] = "Dragon",
	[BESTIARY_TYPE_ELEMENTAL] = "Elemental",
	[BESTIARY_TYPE_EXTRA_DIMENSIONAL] = "Extra Dimensional",
	[BESTIARY_TYPE_FEY] = "Fey",
	[BESTIARY_TYPE_GIANT] = "Giant",
	[BESTIARY_TYPE_HUMAN] = "Human",
	[BESTIARY_TYPE_HUMANOID] = "Humanoid",
	[BESTIARY_TYPE_LYCANTHROPE] = "Lycanthrope",
	[BESTIARY_TYPE_MAGICAL] = "Magical",
	[BESTIARY_TYPE_MAMMAL] = "Mammal",
	[BESTIARY_TYPE_PLANT] = "Plant",
	[BESTIARY_TYPE_REPTILE] = "Reptile",
	[BESTIARY_TYPE_SLIME] = "Slime",
	[BESTIARY_TYPE_UNDEAD] = "Undead",
	[BESTIARY_TYPE_VERMIN] = "Vermin"
}
BestiaryTypeByName = {}
for k, v in pairs(BestiaryNameByType) do
	BestiaryTypeByName[v] = k
end

BESTIARY_MELEE = 0
BESTIARY_RANGED = 1
BESTIARY_HARMLESS = 2

-- begin compendium cache
COMPENDIUM_CACHE = {
	outfitLookTypes = {
		[PLAYERSEX_FEMALE] = {},
		[PLAYERSEX_MALE] = {}
	},
	mounts = {},
	familiars = {},
}

-- init compendium cache
for playerSex = PLAYERSEX_FEMALE, PLAYERSEX_MALE do
	for _, outfit in pairs(Game.getOutfits(playerSex)) do
		COMPENDIUM_CACHE.outfitLookTypes[playerSex][#COMPENDIUM_CACHE.outfitLookTypes[playerSex] + 1] = outfit.lookType
	end
end

for _, mount in pairs(Game.getMounts()) do
	COMPENDIUM_CACHE.mounts[#COMPENDIUM_CACHE.mounts + 1] = mount
end

for _, familiar in pairs(Game.getFamiliars()) do
	COMPENDIUM_CACHE.familiars[#COMPENDIUM_CACHE.familiars + 1] = familiar
end
-- end compendium cache